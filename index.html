<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Intellisense AI - Ativo de Guerra: Simulador Operacional Nacional (v3.0)</title>
    <!-- M√≥dulo 2: Tipografia Elevada - Google Fonts --><link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Manrope:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- M√≥dulo 2: √çcones de Alta Qualidade - Feather Icons (ou Font Awesome se preferir) --><script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>

    <style>
        /* M√ìDULO 2: REFINAMENTO VISUAL v3.0 - Luxo e Sofistica√ß√£o */
        :root {
            --color-primary: #0a84ff; /* Azul mais vibrante */
            --color-danger: #ff453a; /* Vermelho mais intenso */
            --color-success: #34c759; /* Verde para sucesso/solu√ß√£o */
            --color-bg-dark: #121212; /* Fundo mais escuro */
            --color-bg-gradient-start: #1c1c1e;
            --color-bg-gradient-end: #121212;
            --color-text-light: #f2f2f7;
            --color-card-bg: rgba(44, 44, 46, 0.6); /* Semi-transparente para Glassmorphism */
            --color-card-border: rgba(58, 58, 60, 0.4); /* Borda mais sutil */
            --font-family: 'Manrope', 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            --backdrop-blur: 15px; /* Intensidade do Glassmorphism */
        }
        body {
            font-family: var(--font-family);
            background: radial-gradient(circle at top left, var(--color-bg-gradient-start) 0%, var(--color-bg-gradient-end) 100%); /* M√≥dulo 2: Fundo Din√¢mico - Gradiente Sutil */
            color: var(--color-text-light);
            margin: 0;
            padding: 2rem;
            line-height: 1.6;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            overflow-x: hidden; /* Evita scroll horizontal por anima√ß√µes */
        }
        .dashboard {
            max-width: 1200px;
            width: 100%;
            margin: 0 auto;
            display: grid;
            gap: 2rem;
            grid-template-columns: repeat(12, 1fr);
            opacity: 0; /* Para Anima√ß√£o de Entrada */
            transform: translateY(20px); /* Para Anima√ß√£o de Entrada */
            animation: fadeInSlideUp 0.8s ease-out forwards;
        }
        .card {
            background-color: var(--color-card-bg);
            padding: 1.5rem;
            border-radius: 12px;
            border: 1px solid var(--color-card-border);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
            /* M√≥dulo 2: Efeito "Glassmorphism" */
            backdrop-filter: blur(var(--backdrop-blur));
            -webkit-backdrop-filter: blur(var(--backdrop-blur));
        }
        h1, h2, h3 {
            margin-top: 0;
            font-weight: 600;
        }
        h1 { font-size: 2.5rem; color: white; letter-spacing: 0.05em; }
        h2 { color: var(--color-primary); border-bottom: 1px solid var(--color-card-border); padding-bottom: 0.75rem; margin-bottom: 1rem; font-size: 1.5rem; display: flex; align-items: center;}
        h2 i { margin-right: 10px; } /* Espa√ßamento para √≠cones */
        h3 { font-size: 1.2rem; color: var(--color-text-light); opacity: 0.8; }

        /* --- Layout Espec√≠fico --- */
        .header { grid-column: 1 / -1; text-align: center; margin-bottom: 2rem; }
        .cost-calculator { grid-column: 1 / -1; text-align: center; animation-delay: 0.2s; /* Anima√ß√£o de Entrada */ }
        .heatmap { grid-column: 1 / 8; animation-delay: 0.4s; /* Anima√ß√£o de Entrada */ }
        .ticket-simulator-wrapper { grid-column: 8 / -1; animation-delay: 0.6s; /* Anima√ß√£o de Entrada */ }
        .intelligence-panel {
            grid-column: 1 / -1;
            margin-top: 1.5rem;
            display: none; /* Inicia oculto */
            animation: fadeInSlideUp 0.6s ease-out forwards;
        }
        .intelligence-panel h3 { color: var(--color-success); }
        .intelligence-panel .quote {
            font-style: italic;
            border-left: 3px solid var(--color-primary);
            padding-left: 10px;
            margin-bottom: 10px;
            opacity: 0.9;
        }
        .intelligence-panel .metric { margin-bottom: 5px; }
        .intelligence-panel .solution-text {
            font-weight: 500;
            color: var(--color-success);
            margin-top: 15px;
            padding-top: 10px;
            border-top: 1px solid var(--color-card-border);
        }

        /* M√≥dulo 1: Anima√ß√£o de Entrada */
        @keyframes fadeInSlideUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Calculadora do Custo da Inefici√™ncia */
        #revenue-lost {
            font-size: 5rem; /* MUITO MAIOR */
            color: var(--color-danger);
            font-weight: 700;
            text-align: center;
            margin: 1rem 0;
            animation: pulse 1.5s infinite alternate;
            text-shadow: 0 0 20px var(--color-danger); /* Efeito de brilho */
        }
        @keyframes pulse {
            from { transform: scale(1); text-shadow: 0 0 20px rgba(255, 69, 58, 0.4); }
            to { transform: scale(1.03); text-shadow: 0 0 35px rgba(255, 69, 58, 0.8); }
        }
        input[type="range"] {
            width: 60%; margin: 1rem auto;
            -webkit-appearance: none; /* Remove estilo padr√£o */
            appearance: none;
            height: 8px;
            background: var(--color-card-border);
            outline: none;
            border-radius: 5px;
            transition: background 0.2s ease;
        }
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--color-primary);
            cursor: pointer;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.3);
            transition: background 0.2s ease;
        }
        input[type="range"]::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--color-primary);
            cursor: pointer;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.3);
        }


        /* M√≥dulo 1: Interatividade do Mapa de Calor */
        #heatmap-container { display: flex; flex-direction: column; gap: 8px; }
        .bar {
            height: 35px; background: linear-gradient(90deg, var(--color-primary) 0%, #0a84ff88 100%);
            color: white; text-align: left; padding-left: 15px; line-height: 35px;
            border-radius: 6px; font-weight: 500; transition: all 0.3s ease;
            display: flex; justify-content: space-between; padding-right: 15px;
            cursor: pointer; /* Indica clic√°vel */
            position: relative;
            overflow: hidden; /* Para garantir o efeito de expans√£o suave */
        }
        .bar:hover { cursor: help; transform: scale(1.02); } /* Manter hover para tooltip */
        .bar.active-drilldown {
            transform: scale(1.03);
            border: 2px solid var(--color-success);
            box-shadow: 0 0 15px rgba(52, 199, 89, 0.5);
        }
        .bar.faded { opacity: 0.3; } /* Para o Drill-Down */
        .bar-label { font-weight: 600; }
        .bar-value { opacity: 0.8; }

        /* Simulador de Tickets */
        .ticket-simulator-wrapper { display: flex; flex-direction: column; }
        .guest-view input[type="text"], .guest-view button {
            width: 100%; padding: 12px; margin-bottom: 10px; border-radius: 8px; border: 1px solid var(--color-card-border);
            box-sizing: border-box;
            background-color: #3a3a3c; color: var(--color-text-light);
        }
        .guest-view button {
            background-color: var(--color-primary); color: white; cursor: pointer; font-weight: 600; border: none;
            transition: transform 0.1s ease; /* Feedback T√°til */
        }
        .guest-view button:active { transform: scale(0.98); } /* Feedback T√°til */

        .manager-view { flex-grow: 1; max-height: 300px; overflow-y: auto; padding-right: 10px; }
        .manager-view::-webkit-scrollbar { width: 8px; }
        .manager-view::-webkit-scrollbar-track { background: var(--color-card-bg); border-radius: 10px; }
        .manager-view::-webkit-scrollbar-thumb { background: var(--color-card-border); border-radius: 10px; }
        .manager-view::-webkit-scrollbar-thumb:hover { background: #555; }

        .ticket-card {
            background-color: #3a3a3c; padding: 12px; margin-bottom: 10px;
            border-left: 4px solid var(--color-danger); border-radius: 6px; font-size: 0.9rem;
            opacity: 0; transform: translateY(20px); /* Para Anima√ß√£o de Entrada do Ticket */
            animation: slideInTicket 0.3s ease-out forwards;
        }
        @keyframes slideInTicket {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .ticket-card strong { color: var(--color-primary); }
        .status-open { color: var(--color-danger); font-weight: 700; }
        .status-solved { color: var(--color-success); font-weight: 700; } /* Novo status */
        .timer { font-weight: 700; }
        .ticket-card .action-button {
            background-color: var(--color-success);
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 4px;
            cursor: pointer;
            margin-top: 10px;
            font-size: 0.8rem;
            transition: background-color 0.2s ease;
        }
        .ticket-card .action-button:hover { background-color: #28a745; }
        .ticket-card .ia-solution {
            font-size: 0.85rem;
            color: var(--color-success);
            margin-top: 10px;
            padding-top: 8px;
            border-top: 1px dashed var(--color-card-border);
        }

        /* M√≥dulo 3: Modo Apresenta√ß√£o */
        #presentation-overlay {
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background-color: rgba(0, 0, 0, 0.8);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.5s ease;
        }
        #presentation-overlay.active { display: flex; opacity: 1; }
        .presentation-highlight {
            position: relative;
            box-shadow: 0 0 0 9999px rgba(0, 0, 0, 0.7); /* Efeito de escurecimento ao redor */
            border-radius: 15px;
            padding: 10px;
            transition: all 0.5s ease-out;
            border: 2px solid var(--color-primary);
            z-index: 1001; /* Acima do overlay */
        }
        .presentation-popup {
            position: absolute;
            bottom: calc(100% + 15px);
            left: 50%;
            transform: translateX(-50%);
            background-color: var(--color-primary);
            color: white;
            padding: 10px 15px;
            border-radius: 8px;
            white-space: nowrap;
            font-size: 1.1rem;
            font-weight: 500;
            opacity: 0;
            animation: fadeIn 0.5s ease forwards;
        }
        .presentation-popup::after {
            content: '';
            position: absolute;
            left: 50%;
            bottom: -10px;
            transform: translateX(-50%) rotate(45deg);
            width: 20px;
            height: 20px;
            background-color: var(--color-primary);
            z-index: -1;
        }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        #start-tour-button {
            position: fixed;
            top: 20px;
            right: 20px;
            background-color: var(--color-primary);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            box-shadow: 0 4px 15px rgba(0, 132, 255, 0.4);
            transition: transform 0.2s ease, background-color 0.2s ease;
            z-index: 100;
        }
        #start-tour-button:hover {
            background-color: #007bff;
            transform: translateY(-2px);
        }
        #start-tour-button:active {
            transform: translateY(0);
        }

    </style>
</head>
<body>

    <button id="start-tour-button">Iniciar Tour Guiado</button>

    <div class="dashboard">
        <header class="header">
            <h1>Intellisense AI - Ativo de Guerra: Simulador Operacional Nacional</h1>
            <p>Dashboard de Efici√™ncia - A Forja da Persuas√£o Digital</p>
        </header>

        <div class="card cost-calculator" id="cost-calculator-card">
            <h2><i data-feather="dollar-sign"></i> Calculadora do Custo da Inefici√™ncia</h2>
            <p>Taxa de N√£o-Retorno de Clientes Insatisfeitos (Slider)</p>
            <input type="range" id="non-return-rate" min="1" max="50" value="15" step="1">
            <p>Taxa Estimada de N√£o-Retorno: <span id="rate-display">15</span>%</p>
            <h3>Receita Anual Perdida: <span id="category-loss-text" style="font-size: 0.8em; opacity: 0.7;"></span></h3>
            <div id="revenue-lost">R$ 0,00</div>
            <small>*Ticket M√©dio Anual Definido: R$ 3.500.000 (Base de 10.000 h√≥spedes).</small>
        </div>

        <div class="card heatmap" id="heatmap-card">
            <h2><i data-feather="activity"></i> Mapa de Calor de Falhas (Argos Data)</h2>
            <p>An√°lise de 500 avalia√ß√µes negativas - √Åreas de Maior Severidade</p>
            <div id="heatmap-container">
                <div class="bar" data-category="Check-in" data-severity="85" title="Exemplo: 'Check-in de 1 hora. Inaceit√°vel.'">
                    <span class="bar-label">Check-in</span> <span class="bar-value">(85%)</span>
                </div>
                <div class="bar" data-category="Piscina/√Årea Externa" data-severity="70" title="Exemplo: 'Toalhas sujas e piscina lotada, sem controle.'">
                    <span class="bar-label">Piscina/√Årea Externa</span> <span class="bar-value">(70%)</span>
                </div>
                <div class="bar" data-category="Servi√ßo de Quarto" data-severity="55" title="Exemplo: 'Servi√ßo de quarto demorou 45 minutos para um caf√©.'">
                    <span class="bar-label">Servi√ßo de Quarto</span> <span class="bar-value">(55%)</span>
                </div>
                <div class="bar" data-category="Manuten√ß√£o" data-severity="40" title="Exemplo: 'Ar-condicionado quebrado, tive que ligar 3 vezes.'">
                    <span class="bar-label">Manuten√ß√£o</span> <span class="bar-value">(40%)</span>
                </div>
                <div class="bar" data-category="A&B" data-severity="20" title="Exemplo: 'Bar na cobertura caro e gar√ßom confuso.'">
                    <span class="bar-label">A&B</span> <span class="bar-value">(20%)</span>
                </div>
            </div>
            <small>Passe o mouse para ver exemplos e **clique para an√°lise profunda**.</small>
        </div>

        <div class="card ticket-simulator-wrapper" id="ticket-simulator-card">
            <h2 id="ticket-simulator-title"><i data-feather="tag"></i> Simulador de Tickets Inteligentes</h2>
            <div class="guest-view">
                <h3>Vis√£o do H√≥spede</h3>
                <p>Simulador: App de Reporte R√°pido</p>
                <input type="text" id="problem-input" placeholder="Qual o problema? Ex: 'Ar-condicionado n√£o gela.'">
                <button id="report-button">üö® Reportar Problema</button>
            </div>
            <hr style="border-color: var(--color-card-border); margin: 1.5rem 0;">
            <div class="manager-view">
                <h3>Vis√£o do Gerente</h3>
                <p>Tickets Abertos (Onde o tempo est√° correndo)</p>
                <div id="ticket-list"></div>
            </div>
        </div>

        <!-- M√≥dulo 3.1: Painel de Intelig√™ncia Contextual (Inicia oculto) --><div class="card intelligence-panel" id="intelligence-panel">
            <h2 id="intelligence-panel-title"><i data-feather="cpu"></i> Intelig√™ncia Argos: An√°lise Profunda</h2>
            <div id="intelligence-panel-content">
                <!-- Conte√∫do gerado dinamicamente via JS --></div>
        </div>
    </div>

    <!-- M√≥dulo 3: Modo Apresenta√ß√£o Overlay --><div id="presentation-overlay"></div>

    <script>
        // Inicializa Feather Icons
        feather.replace();

        // Vari√°veis Globais e Configura√ß√µes
        let ticketIdCounter = 1;
        const BASE_ANNUAL_REVENUE = 3500000;
        const MAX_CUSTOMERS = 10000;
        const intervalId = setInterval(updateTimers, 1000);
        let activeCategory = null; // Para M√≥dulo 3.1 Causa-Efeito e Drill-Down

        // --- Elementos DOM ---
        const rateSlider = document.getElementById('non-return-rate');
        const rateDisplay = document.getElementById('rate-display');
        const revenueLostDisplay = document.getElementById('revenue-lost');
        const categoryLossText = document.getElementById('category-loss-text');
        const reportButton = document.getElementById('report-button');
        const problemInput = document.getElementById('problem-input');
        const ticketList = document.getElementById('ticket-list');
        const heatmapBars = document.querySelectorAll('.bar');
        const intelligencePanel = document.getElementById('intelligence-panel');
        const intelligencePanelTitle = document.getElementById('intelligence-panel-title');
        const intelligencePanelContent = document.getElementById('intelligence-panel-content');
        const ticketSimulatorTitle = document.getElementById('ticket-simulator-title');

        let tickets = [];

        // --- M√≥dulo 3: Conex√£o Causa-Efeito & Calculadora do Custo da Inefici√™ncia ---
        const categorySeverities = { // Dados fict√≠cios para demonstra√ß√£o do impacto
            "Check-in": { severity: 85, impact: 0.4, quotes: ["Fiquei 45 minutos na fila do check-in com minha fam√≠lia cansada da viagem. Inaceit√°vel para um hotel deste porte.", "O sistema estava 'lento' e o atendente parecia perdido. Uma primeira impress√£o terr√≠vel."], metrics: ["35% das avalia√ß√µes de 1 e 2 estrelas mencionam 'check-in'.", "H√≥spedes que enfrentam um check-in ruim gastam, em m√©dia, 15% a menos em servi√ßos extras (A&B, spa) durante a estadia."], solution: "Nossa solu√ß√£o: Um sistema de pr√©-check-in inteligente via app e totens de autoatendimento que reduzem o tempo de espera em 90%, liberando sua equipe para focar em hospitalidade, n√£o em burocracia." },
            "Piscina/√Årea Externa": { severity: 70, impact: 0.3, quotes: ["Toalhas sujas e piscina lotada, sem controle.", "A piscina parece um clube p√∫blico, n√£o um hotel de luxo."], metrics: ["25% dos clientes que reclamam da piscina n√£o retornam.", "Redu√ß√£o de 10% nas vendas do bar da piscina devido √† percep√ß√£o de superpopula√ß√£o."], solution: "Nossa solu√ß√£o: Monitoramento inteligente de ocupa√ß√£o e otimiza√ß√£o da equipe de limpeza e servi√ßo, garantindo uma experi√™ncia exclusiva." },
            "Servi√ßo de Quarto": { severity: 55, impact: 0.2, quotes: ["Servi√ßo de quarto demorou 45 minutos para um caf√©.", "Meu pedido veio errado e frio."], metrics: ["Cada falha no servi√ßo de quarto reduz a gorjeta m√©dia em 20%.", "Atrasos no servi√ßo de quarto geram 18% das reclama√ß√µes no checkout."], solution: "Nossa solu√ß√£o: Sistema de gest√£o de pedidos inteligente com roteiriza√ß√£o otimizada para equipe e previs√£o de demanda, reduzindo o tempo de entrega em 70%." },
            "Manuten√ß√£o": { severity: 40, impact: 0.15, quotes: ["Ar-condicionado quebrado, tive que ligar 3 vezes.", "Vazamento no banheiro que ningu√©m resolveu."], metrics: ["Problemas de manuten√ß√£o n√£o resolvidos resultam em 10% de pedidos de troca de quarto.", "O custo com reparos emergenciais √© 3x maior que o da manuten√ß√£o preventiva."], solution: "Nossa solu√ß√£o: Sensores IoT para monitoramento proativo e plataforma de manuten√ß√£o preditiva, resolvendo problemas antes que afetem o h√≥spede." },
            "A&B": { severity: 20, impact: 0.05, quotes: ["Bar na cobertura caro e gar√ßom confuso.", "Comida sem sabor e atendimento demorado no restaurante."], metrics: ["20% dos h√≥spedes evitam restaurantes do hotel ap√≥s uma experi√™ncia ruim.", "A baixa qualidade do A&B impacta diretamente a reputa√ß√£o online."], solution: "Nossa solu√ß√£o: Otimiza√ß√£o de card√°pio baseada em IA para prefer√™ncias do h√≥spede e treinamento de equipe focado em excel√™ncia no servi√ßo." }
        };

        function updateRevenueLost() {
            const baseRate = parseInt(rateSlider.value) / 100;
            rateDisplay.textContent = rateSlider.value;
            let currentLostRevenue = 0;
            let currentLossText = "";

            if (activeCategory && categorySeverities[activeCategory]) {
                // C√°lculo espec√≠fico para a categoria ativa
                const categoryImpact = categorySeverities[activeCategory].impact;
                currentLostRevenue = Math.round(BASE_ANNUAL_REVENUE * baseRate * categoryImpact * (categorySeverities[activeCategory].severity / 100));
                currentLossText = `Perda estimada apenas por falhas em "${activeCategory}":`;
            } else {
                // C√°lculo geral
                currentLostRevenue = Math.round(BASE_ANNUAL_REVENUE * baseRate);
                currentLossText = "";
            }
            
            revenueLostDisplay.textContent = 'R$ ' + currentLostRevenue.toLocaleString('pt-BR');
            categoryLossText.textContent = currentLossText;
        }

        rateSlider.addEventListener('input', updateRevenueLost);
        updateRevenueLost(); // Inicializa o c√°lculo

        // --- M√≥dulo 3.1: Drill-Down Diagn√≥stico no Mapa de Calor ---
        heatmapBars.forEach(bar => {
            bar.addEventListener('click', () => {
                const category = bar.dataset.category;
                
                // Resetar estados anteriores
                heatmapBars.forEach(b => {
                    b.classList.remove('active-drilldown', 'faded');
                    b.style.width = `${b.dataset.severity}%`; // Resetar largura visual
                    b.style.opacity = '1';
                });
                intelligencePanel.style.display = 'none'; // Esconder painel de intelig√™ncia

                if (activeCategory === category) {
                    // Se clicar na mesma categoria, desativar drill-down
                    activeCategory = null;
                    ticketSimulatorTitle.innerHTML = `<i data-feather="tag"></i> Simulador de Tickets Inteligentes`;
                    problemInput.placeholder = "Qual o problema? Ex: 'Ar-condicionado n√£o gela.'";
                } else {
                    // Ativar drill-down
                    activeCategory = category;
                    bar.classList.add('active-drilldown');
                    heatmapBars.forEach(b => {
                        if (b !== bar) {
                            b.classList.add('faded');
                            b.style.width = '20%'; // Diminuir outras barras visualmente
                            b.style.opacity = '0.4';
                        }
                    });

                    // Atualizar Simulador de Tickets
                    ticketSimulatorTitle.innerHTML = `<i data-feather="tag"></i> Simulando uma Falha de ${category}`;
                    
                    const problemPlaceholder = {
                        "Check-in": "Ex: 'Fila enorme, apenas um atendente.'",
                        "Piscina/√Årea Externa": "Ex: 'Piscina muito cheia, sem toalhas limpas.'",
                        "Servi√ßo de Quarto": "Ex: 'Comida fria e entregue com atraso.'",
                        "Manuten√ß√£o": "Ex: 'L√¢mpada queimada e vazamento no banheiro.'",
                        "A&B": "Ex: 'Drinks caros e gar√ßom demorado no bar.'"
                    };
                    problemInput.placeholder = problemPlaceholder[category] || "Qual o problema? Ex: 'Ar-condicionado n√£o gela.'";

                    // Ativar Painel de Intelig√™ncia Contextual
                    renderIntelligencePanel(category);
                }
                updateRevenueLost(); // Recalcular com base na categoria ativa
                feather.replace(); // Re-renderizar √≠cones se necess√°rio
            });
        });

        function renderIntelligencePanel(category) {
            const data = categorySeverities[category];
            if (!data) return;

            intelligencePanelTitle.innerHTML = `<i data-feather="cpu"></i> Intelig√™ncia Argos: An√°lise Profunda de '${category}'`;
            let contentHtml = `
                <h4>Cita√ß√µes Reais (A Dor Qualitativa):</h4>
                ${data.quotes.map(q => `<p class="quote">"${q}"</p>`).join('')}
                <h4>M√©tricas de Impacto (A Dor Quantitativa):</h4>
                ${data.metrics.map(m => `<p class="metric">${m}</p>`).join('')}
                <h4>A Nossa Solu√ß√£o (A Cura):</h4>
                <p class="solution-text">${data.solution}</p>
            `;
            intelligencePanelContent.innerHTML = contentHtml;
            intelligencePanel.style.display = 'block';
            intelligencePanel.scrollIntoView({ behavior: 'smooth', block: 'start' }); // Scroll para o painel
        }


        // --- L√≥gica do Simulador de Tickets Inteligentes (M√≥dulo 1: Feedback T√°til) ---
        reportButton.addEventListener('click', () => {
            const problemText = problemInput.value.trim();
            if (problemText === '') return;

            const newTicket = {
                id: `IS-2025${String(ticketIdCounter++).padStart(4, '0')}`,
                problem: problemText,
                status: 'ABERTO',
                startTime: Date.now(),
                elapsedTime: 0
            };

            tickets.unshift(newTicket); // Adiciona no in√≠cio para aparecer em cima
            renderTicket(newTicket);
            problemInput.value = ''; // Limpa o formul√°rio

            // Feedback T√°til (j√° implementado via CSS :active)
        });

        function renderTicket(ticket) {
            const ticketCard = document.createElement('div');
            ticketCard.className = 'ticket-card';
            ticketCard.dataset.ticketId = ticket.id;
            
            // Adicionando bot√£o de a√ß√£o para "Resposta Inteligente"
            ticketCard.innerHTML = `
                <strong>ID: ${ticket.id}</strong><br>
                Problema: ${ticket.problem}<br>
                Status: <span class="status-open">${ticket.status}</span> | Tempo de Resposta: <span class="timer" data-id="${ticket.id}">00:00</span>
                <button class="action-button" data-id="${ticket.id}">Solu√ß√£o Inteligente (IA)</button>
            `;
            
            ticketList.prepend(ticketCard); // Novo ticket desliza para a lista (M√≥dulo 1)
        }
        
        // --- A√ß√£o "Solu√ß√£o Inteligente (IA)" nos Tickets (Adi√ß√£o V2.1 + Refinamento V3.0) ---
        ticketList.addEventListener('click', (event) => {
            if (event.target.classList.contains('action-button')) {
                const ticketId = event.target.
